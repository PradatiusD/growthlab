<html>
<head>
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/angular/angular.min.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body ng-app="growthLab">
  <div class="container">
    <h1 style="color:white;">Flip Demo</p>
  </div>
  <div class="flippy-container">
    <section card-flip width="303" height="324" front="img/chart-left-empty.png"      back="img/cat-happy.jpg" class="chart-left-empty"></section>
    <section card-flip width="361" height="324" front="img/chart-icon.png"            back="img/cat-happy.jpg" class="chart-icon"></section>
    <section card-flip width="400" height="367" front="img/chevron-up-right-icon.png" back="img/cat-happy.jpg" class="chevron-up-right"></section>

    <div class="welcome-text">
      <h1>
        We're Growth Lab.<br>
        Helping startups and<br>
        innovators spring forward.
      </h1>
    </div>

    <section card-flip width="410" height="388" front="img/binoculars-icon.png" back="img/cat-happy.jpg" class="binoculars"></section>
    <section card-flip width="400" height="301" front="img/document-icon.png"   back="img/cat-happy.jpg" class="document"></section>
  </div>  
  <br>
  <hr>
  <img src="img/goal.png" class="img-responsive">
<script>
  angular.module('growthLab', [])

  .directive('cardFlip', function(){

    var flip = function () {
        $(this).toggleClass('flipped');
    };

    return {
      template: function(scope, attrs){
      
        return  '<article class="flipHolder">'+
                  '<div class="card">'+    
                    '<figure class="front" style=background-image:url('+attrs.front+')></figure>'+
                    '<figure class="back"  style=background-image:url('+attrs.back+') ></figure>'+
                  '</div>'+
                '</article>';
      },
      link: function(scope, element, attrs){


        var totalWidth = 303+361+427+367;
        var totalHeight = 388*2;
        var widthHeightStyle ='height:'+attrs.height/totalHeight*100+'%;width:'+attrs.width/totalWidth*100+'%;"';

        var $elem = jQuery(element).find('.card');
        $elem.click(flip);
        jQuery(element).attr('style',widthHeightStyle)
      }
    }
  })

  function setFlippyCanvas() {
    var $flippyCanvas = jQuery(".flippy-container");
    $flippyCanvas.height($flippyCanvas.width()*(645/1200));
  }

  jQuery(document).ready(setFlippyCanvas)
  jQuery(window).resize(setFlippyCanvas)

</script>
<script src="//localhost:35729/livereload.js"></script>
</body>
</html>